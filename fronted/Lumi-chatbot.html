<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Lumi ‚Äì Ajolotito Chatbot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="lumi-styles.css" />
  </head>
  <body>
    <div class="app-container" id="app-root">
      <header class="header">
        <div class="header-left">
          <div class="lumi-avatar">
            (‚Ä¢ÃÄ·¥ó‚Ä¢ÃÅ)Ÿà
          </div>
          <div class="header-text">
            <h1>Lumi ¬∑ Ajolotito</h1>
            <p>
              <span class="status-dot"></span>
              <span id="header-status">Modo invitado</span>
            </p>
          </div>
        </div>

        <div class="header-right">
          <button id="history-btn" class="history-btn" style="display:none;">
            Historial
          </button>

          <div class="theme-selector">
            <span>Colores:</span>
            <div class="theme-dot rose" data-theme="rose" title="Rosa"></div>
            <div class="theme-dot purple" data-theme="purple" title="Morado"></div>
            <div class="theme-dot blue" data-theme="blue" title="Azul"></div>
          </div>

          <button id="logout-btn" class="logout-btn" style="display:none;">
            Cerrar sesi√≥n
          </button>
        </div>
      </header>

      <div id="chat" class="chat-wrapper"></div>

      <div id="typing-indicator" class="typing" style="display:none;">
        Lumi est√° escribiendo...
      </div>

      <div class="hint">
        Pulsa Enter para enviar ¬∑ Lumi responde con cari√±o, no con diagn√≥sticos
      </div>

      <div class="input-row">
        <textarea
          id="msg"
          rows="2"
          placeholder="Escr√≠bele a Lumi c√≥mo te sientes..."
        ></textarea>
        <button id="send-btn">Enviar</button>
      </div>

      <!-- OVERLAY LOGIN / REGISTRO / INVITADO -->
      <div class="auth-overlay" id="auth-overlay">
        <div class="auth-card">
          <div class="auth-header">
            <h2>Bienvenido con Lumi ü¶é</h2>
            <p>Elige c√≥mo quieres entrar</p>
          </div>

          <div class="auth-tabs">
            <button id="tab-login" class="auth-tab active">Iniciar sesi√≥n</button>
            <button id="tab-register" class="auth-tab">Crear cuenta</button>
          </div>

          <form id="form-login" class="auth-form">
            <div class="field">
              <label for="login-email">Correo electr√≥nico</label>
              <input type="email" id="login-email" required />
            </div>
            <div class="field">
              <label for="login-password">Contrase√±a</label>
              <input type="password" id="login-password" required />
            </div>
            <div id="login-error" class="error-msg"></div>
            <button type="submit" class="primary-btn">Entrar</button>
          </form>

          <form id="form-register" class="auth-form" style="display:none;">
            <div class="field">
              <label for="reg-username">Nombre / Usuario</label>
              <input type="text" id="reg-username" required />
            </div>
            <div class="field">
              <label for="reg-email">Correo electr√≥nico</label>
              <input type="email" id="reg-email" required />
            </div>
            <div class="field">
              <label for="reg-password">Contrase√±a</label>
              <input type="password" id="reg-password" required />
            </div>
            <div class="field">
              <label for="reg-confirm">Repite la contrase√±a</label>
              <input type="password" id="reg-confirm" required />
            </div>
            <p class="password-rules">
              La contrase√±a debe tener m√≠nimo 8 caracteres, una may√∫scula y una min√∫scula.
            </p>
            <div id="reg-error" class="error-msg"></div>
            <button type="submit" class="primary-btn">Crear cuenta</button>
          </form>

          <div class="divider">
            <span>o</span>
          </div>

          <button id="guest-btn" class="guest-btn">
            Entrar como invitado
          </button>

          <div class="auth-mode-label">
            Modo actual:
            <span class="badge-mode" id="auth-mode-label">
              Invitado
            </span>
          </div>
        </div>
      </div>

      <!-- PANEL LATERAL DE HISTORIAL -->
      <div class="history-overlay" id="history-overlay">
        <div class="history-panel">
          <div class="history-header">
            <h2>Conversaciones recientes</h2>
            <button id="close-history" class="close-history">√ó</button>
          </div>
          <div class="history-list" id="history-list">
            <!-- Se llena con JS -->
          </div>
        </div>
      </div>
    </div>

    <script src="lumi-app.js"></script>
  </body>
</html>
